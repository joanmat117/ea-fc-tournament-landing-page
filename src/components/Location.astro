---
import { getTranslation } from "../i18n/utils";
import SectionTitle from "./SectionTitle.astro";

const t = await getTranslation(Astro.currentLocale)

interface Transport {
  title:string,
  description:string,
  imageMobile:string,
  imageDesktop:string,
}

const transports:Transport[] = [
  {
    ...t.location.transport.metro,
    imageMobile:'/img/location/metro-mobile.jpg',
    imageDesktop:'/img/location/metro-desktop.jpg'
  },
  {
    ...t.location.transport.bus,
    imageMobile:'/img/location/bus-mobile.jpg',
    imageDesktop:'/img/location/bus-desktop.jpg',
  },
  {
    ...t.location.transport.parking,
    imageMobile:'/img/location/parking-mobile.jpg',
    imageDesktop:'/img/location/parking-desktop.jpg',
  },
]
---

<section id="location" class="p-2 scroll-mt-20 bg-blue-500 text-white py-4">
  <SectionTitle
  title={t.location.title}
  >
<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-location"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20.891 2.006l.106 -.006l.13 .008l.09 .016l.123 .035l.107 .046l.1 .057l.09 .067l.082 .075l.052 .059l.082 .116l.052 .096c.047 .1 .077 .206 .09 .316l.005 .106c0 .075 -.008 .149 -.024 .22l-.035 .123l-6.532 18.077a1.55 1.55 0 0 1 -1.409 .903a1.547 1.547 0 0 1 -1.329 -.747l-.065 -.127l-3.352 -6.702l-6.67 -3.336a1.55 1.55 0 0 1 -.898 -1.259l-.006 -.149c0 -.56 .301 -1.072 .841 -1.37l.14 -.07l18.017 -6.506l.106 -.03l.108 -.018z" /></svg>
  </SectionTitle>
  <article class="flex  flex-col items-center gap-2 rounded-2xl border-2 border-slate-300/50 py-4 px-6 shadow shadow-lg bg-pattern-graph-paper">
    <h3 class="text-xl text-center font-semibold">{t.location.address.title}<h3>
        <ul class="flex gap-5 text-center text-md">
          <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block icon icon-tabler icons-tabler-outline icon-tabler-road"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 19l4 -14" /><path d="M16 5l4 14" /><path d="M12 8v-2" /><path d="M12 13v-2" /><path d="M12 18v-2" /></svg>
              {t.location.address.street}
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block icon icon-tabler icons-tabler-outline icon-tabler-building-skyscraper"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 21l18 0" /><path d="M5 21v-14l8 -4v18" /><path d="M19 21v-10l-6 -4" /><path d="M9 9l0 .01" /><path d="M9 12l0 .01" /><path d="M9 15l0 .01" /><path d="M9 18l0 .01" /></svg>
            {t.location.address.city}
          </span>
    </ul>
  </article>
  <h3 class="text-2xl text-center my-6 font-semibold ">
    {t.location.transport.title}
  </h3>
  <ul class="flex mb-2 flex-wrap gap-2 max-w-4xl mx-auto w-full">
    {transports.map(transport=>(
    <article class="flex-1 rounded-xl overflow-hidden bg-blue-400/50 min-w-40 text-slate-100 border-2 border-blue-400 shadow">
      <picture>
        <source media='(min-width:760px)' srcset={transport.imageDesktop} />
        <img loading="lazy" src={transport.imageMobile} alt={transport.title} 
        class="w-full max-h-40 object-cover aspect-square"
        decoding='async'
        />
      </picture>
      <h4 class="text-2xl font-semibold p-2">
        {transport.title}
      </h4>
      <p class="text-md font-medium text-blue-100 p-2">
        {transport.description}
      </p>
    </article>
    ))} 
  </ul>
</section>
